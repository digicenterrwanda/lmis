
{namespace bss=Bermuda\BssEvents\ViewHelpers}



<!-- Modal -->
<div id="bssEventModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <!--div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Titel</h4>
            </div-->
            <div class="modal-body">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal"><f:translate key="LLL:EXT:bss_events/Resources/Private/Language/locallang_db.xlf:tx_bssevents_navigation.close"/></button>
            </div>
        </div>

    </div>
</div>

<div id="contentent">

    <f:flashMessages/>

    <f:if condition="{month.style} == 'cal'">
        <f:then>
            <f:render partial="monthCalendar" arguments="{_all}"/>
        </f:then>
        <f:else>
            <f:if condition="{year.style} == 'yearlist'">
                <f:then>
                    <f:render partial="yearList" arguments="{_all}"/>
                </f:then>
                <f:else>
                    <f:render partial="monthList" arguments="{_all}"/>
                </f:else>
            </f:if>
        </f:else>
    </f:if>

    <div class="row categories_row">
        <div class="col-xs-12">
            <f:for each="{categories}" as="category">
                <f:if condition="{month.cat} == 0">
                    <f:then>

                        <f:link.action controller="Event" action="show" arguments="{date:month.monthString, year:'same', month:'same', style:month.style, cat:category.uid}">
                            <div style="background-color: {category.color}; color: black;">{category.title}</div>
                        </f:link.action>

                    </f:then>
                    <f:else>

                        <f:if condition="{category.uid} == {month.cat}">

                            <f:then>

                                <f:link.action controller="Event" action="show" arguments="{date:month.monthString, year:'same', month:'same', style:month.style, cat:0}">
                                    <div style="background-color: {category.color}; color: black;">{category.title}</div>
                                </f:link.action>

                            </f:then>
                            <f:else>

                                <f:link.action controller="Event" action="show" arguments="{date:month.monthString, year:'same', month:'same', style:month.style, cat:category.uid}">
                                    <div style="background-color: {category.color}; opacity: 0.5; color: black;">{category.title}</div>
                                </f:link.action>

                            </f:else>

                        </f:if>

                    </f:else>
                </f:if>
            </f:for>
        </div>
    </div>

</div>

<script src="{f:uri.resource(path: 'js/main.js')}"></script>

<!--<a href="http://typo38.dev/index.php?eID=bss_events&action=test">Test eID</a>-->
